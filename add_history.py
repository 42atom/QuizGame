#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import re
import json

# 历史数据映射
history_data = {
    # 碱土金属
    "Be": "1798年法国化学家路易-尼古拉·沃克兰在分析绿柱石和祖母绿时发现了铍。1828年德国化学家弗里德里希·维勒和法国化学家安托万·比西分别独立地通过还原氯化铍分离出金属铍。20世纪40年代开始用于核工业和航空航天领域。",
    
    "Mg": "1808年英国化学家戴维通过电解氧化镁和氧化汞的混合物首次分离出金属镁。1831年法国化学家安托万·比西通过还原氯化镁制得较纯的镁。20世纪初开始工业化生产，广泛用于合金制造。",
    
    "Ca": "钙的化合物自古为人所知，1808年英国化学家戴维通过电解氧化钙和氧化汞的混合物首次分离出金属钙。石灰石(CaCO₃)在建筑中的应用可追溯到古埃及时代。",
    
    "Sr": "1790年英国化学家阿代尔·克劳福德发现锶矿石。1808年戴维通过电解氯化锶首次分离出金属锶。19世纪主要用于制造红色焰火，20世纪用于彩色电视屏幕。",
    
    "Ba": "1774年瑞典化学家卡尔·威廉·舍勒发现氧化钡。1808年戴维通过电解氯化钡首次分离出金属钡。19世纪用于制造绿色焰火，20世纪用于X射线造影剂。",
    
    # 过渡金属
    "Sc": "1879年瑞典化学家拉尔斯·弗雷德里克·尼尔森通过光谱分析发现了钪。1937年首次制得金属钪。主要存在于稀土矿物中，用于高强度铝合金。",
    
    "Ti": "1791年英国牧师威廉·格雷戈尔发现了钛铁矿中的钛。1795年德国化学家马丁·海因里希·克拉普罗特独立发现了钛并命名。1940年卢森堡冶金学家威廉·克罗尔发明了钛的工业化生产方法。",
    
    "V": "1801年墨西哥矿物学家安德烈斯·曼努埃尔·德尔里奥发现了钒。1830年瑞典化学家尼尔斯·加布里埃尔·塞夫斯特伦重新发现了钒并命名。19世纪末开始用于钢铁合金。",
    
    "Cr": "1797年法国化学家路易-尼古拉·沃克兰发现了铬。19世纪初开始用于皮革鞣制和颜料制造。20世纪初不锈钢的发明使铬成为重要的工业金属。",
    
    "Mn": "1774年瑞典化学家约翰·戈特利布·甘恩通过还原二氧化锰首次分离出金属锰。19世纪主要用于钢铁合金，20世纪用于干电池和化工催化剂。",
    
    "Co": "1735年瑞典化学家乔治·勃兰特发现了钴。古代中国就用钴化合物制作蓝色陶瓷釉料。20世纪用于高温合金和磁性材料。",
    
    "Ni": "1751年瑞典化学家阿克塞尔·弗雷德里克·克龙斯泰特发现了镍。古代中国用含镍的铜合金制作白铜。19世纪用于电镀，20世纪用于不锈钢合金。",
    
    "Cu": "铜是人类最早使用的金属之一，约公元前8000年开始使用。古代中国青铜器的制作标志着人类文明的开始。19世纪电解法的发明实现了铜的工业化生产。",
    
    "Zn": "锌的化合物自古为人所知，1746年德国化学家安德烈亚斯·马格拉夫首次分离出金属锌。18世纪开始用于黄铜制造，19世纪用于镀锌防腐。",
    
    "Ga": "1875年法国化学家保罗·埃米尔·勒科克·德布瓦博德兰通过光谱分析发现了镓。镓是第一个根据元素周期表预测并发现的元素，证明了门捷列夫理论的正确性。",
    
    "Ge": "1886年德国化学家克莱门斯·温克勒发现了锗。锗也是根据元素周期表预测并发现的元素，其性质与门捷列夫预测的'类硅'完全吻合。",
    
    "As": "砷的化合物自古为人所知，1250年德国炼金术士阿尔伯特·马格努斯首次分离出金属砷。古代用作毒药和颜料，现代用于半导体工业。",
    
    "Se": "1817年瑞典化学家约恩斯·雅各布·贝采利乌斯发现了硒。19世纪用于玻璃脱色，20世纪用于光电池和半导体器件。",
    
    "Br": "1826年法国化学家安托万·巴拉尔发现了溴。古代使用含溴的盐泉治疗疾病，现代用于阻燃剂、染料和药物制造。",
    
    "Kr": "1898年英国化学家威廉·拉姆齐和莫里斯·特拉弗斯发现了氪。主要存在于空气中，用于特殊照明和激光技术。",
    
    "Rb": "1861年德国化学家罗伯特·本生和古斯塔夫·基尔霍夫通过光谱分析发现了铷。19世纪主要用于研究，现代用于原子钟和光电池。",
    
    "Sr": "1790年英国化学家阿代尔·克劳福德发现锶矿石。1808年戴维通过电解氯化锶首次分离出金属锶。19世纪主要用于制造红色焰火。",
    
    "Mo": "1778年瑞典化学家卡尔·威廉·舍勒发现了钼。19世纪主要用于合金钢，20世纪用于高温合金和催化剂。",
    
    "Ag": "银是人类最早使用的金属之一，约公元前3000年开始使用。古代用作货币和装饰品，现代用于摄影、电子和医疗领域。",
    
    "Cd": "1817年德国化学家弗里德里希·施特罗迈尔发现了镉。19世纪主要用于颜料，20世纪用于镍镉电池和太阳能电池。",
    
    "Sn": "锡是人类最早使用的金属之一，约公元前3000年开始使用。古代用于青铜制造，现代用于焊料和镀锡钢板。",
    
    "Sb": "锑的化合物自古为人所知，约公元前3000年使用。16世纪德国冶金学家瓦伦丁将锑用于印刷活字，现代用于阻燃剂和合金。",
    
    "I": "1811年法国化学家贝尔纳·库尔图瓦发现了碘。19世纪用于治疗甲状腺疾病，现代用于消毒剂和医疗造影剂。",
    
    "Ba": "1774年瑞典化学家卡尔·威廉·舍勒发现氧化钡。1808年戴维通过电解氯化钡首次分离出金属钡。19世纪用于制造绿色焰火。",
    
    "W": "1781年瑞典化学家卡尔·威廉·舍勒发现了钨酸。1783年西班牙化学家埃尔乌亚尔兄弟首次分离出金属钨。20世纪成为重要的工业金属。",
    
    "Pt": "铂在哥伦布发现美洲之前就被南美原住民用作装饰品。1735年西班牙海军军官安东尼奥·德乌略亚首次向欧洲介绍铂。现代用于催化剂和首饰。",
    
    "Au": "金是人类最早使用的金属之一，约公元前4000年开始使用。古代用作货币和装饰品，现代用于电子、医疗和航天领域。",
    
    "Hg": "汞自古为人所知，古代中国用汞制作长生不老药。18世纪用于提取金银，现代用于温度计、气压计和工业催化剂。",
    
    "Pb": "铅是人类最早使用的金属之一，约公元前7000年开始使用。古代用于水管和颜料，现代用于电池、防辐射材料和合金。",
    
    "Bi": "铋的化合物自古为人所知，18世纪被确认为独立元素。古代用于化妆品和药物，现代用于低熔点合金和医药。",
    
    "U": "1789年德国化学家马丁·海因里希·克拉普罗特发现了铀。1896年法国物理学家亨利·贝克勒尔发现了铀的放射性。20世纪成为重要的核燃料。",
    
    # 化合物
    "NaCl": "食盐的使用可追溯到史前时期，约公元前6000年开始。19世纪化学家确定了其化学组成。现代通过海水晒盐和矿盐开采获得。",
    
    "CuSO₄": "硫酸铜在古代就被用于杀菌和染料。18世纪化学家确定了其组成。现代通过铜和硫酸反应制备，用于农业杀菌剂和电镀。",
    
    "AgNO₃": "硝酸银在13世纪阿拉伯炼金术士的作品中就有记载。18世纪化学家确定了其组成。现代用于制造镜子和医疗消毒。",
    
    "KMnO₄": "高锰酸钾在17世纪被发现，19世纪开始大规模生产。最初用作染料，后来发现其强氧化性，广泛用于医疗消毒和水处理。",
    
    "CuO": "氧化铜在古代用于绿色颜料，18世纪化学家确定了其组成。现代用于陶瓷釉料和催化剂。",
    
    "ZnO": "氧化锌在古代用于医药，19世纪开始工业化生产。现代用于防晒霜、橡胶工业和医药领域。",
    
    "TiO₂": "二氧化钛在19世纪初被发现，1916年开始工业化生产。现代用作白色颜料，广泛应用于涂料、塑料和防晒产品。",
    
    "BaSO₄": "硫酸钡在19世纪初被发现，20世纪初开始用于医疗造影。现代主要用于医学X射线造影和油漆填料。",
    
    "CaO": "生石灰的使用可追溯到史前时期，约公元前10000年开始。古代用于建筑和现代工业原料，现代通过石灰石煅烧制得。",
    
    "Na₂CO₃": "碳酸钠在古代埃及用于制作玻璃，18世纪化学家确定了其组成。现代通过索尔维法制得，广泛用于玻璃和洗涤剂工业。",
    
    "NaHCO₃": "碳酸氢钠在19世纪初被发现，19世纪中期开始工业化生产。现代用于烘焙、清洁和医药领域。",
    
    "K₂Cr₂O₇": "重铬酸钾在19世纪初被发现，最初用作染料和颜料。后来发现其强氧化性，用于实验室氧化剂和水处理。",
    
    "CoCl₂": "氯化钴在18世纪被发现，19世纪开始用于湿度指示剂。现代用于干燥剂指示剂和催化剂。",
    
    "NiSO₄": "硫酸镍在19世纪初被发现，19世纪后期开始用于电镀。现代主要用于电镀和电池工业。",
    
    "MnO₂": "二氧化锰在古代用于玻璃脱色，18世纪化学家确定了其组成。现代用于干电池和催化剂。",
    
    "PbS": "硫化铅在古代被用作化妆品，18世纪化学家确定了其组成。现代用于铅冶炼和半导体工业。",
    
    "FeS₂": "黄铁矿在古代被用作火石，18世纪化学家确定了其组成。现代主要用于硫酸生产和铁矿。",
    
    "Cu₂O": "氧化亚铜在古代用于红色颜料，18世纪化学家确定了其组成。现代用于催化剂和半导体工业。",
    
    "HgCl₂": "氯化汞在17世纪被发现，19世纪开始用于消毒。现代主要用于实验室试剂和有机合成。",
    
    "As₂O₃": "三氧化二砷在古代被用作毒药，18世纪化学家确定了其组成。现代用于木材防腐剂和半导体工业。",
    
    "B₂H₆": "乙硼烷在1912年被发现，20世纪30年代开始研究。现代用于火箭燃料和有机合成。",
    
    "SiH₄": "硅烷在1857年被发现，20世纪中期开始工业化生产。现代用于半导体工业和太阳能电池制造。",
    
    "PH₃": "磷化氢在1783年被发现，19世纪开始研究其毒性。现代用于半导体工业和熏蒸剂。",
    
    "H₂S": "硫化氢在18世纪被发现，19世纪开始研究其毒性。现代用于化学合成和分析试剂。",
    
    "OF₂": "二氟化氧在1929年被发现，20世纪中期开始研究。现代用于火箭燃料和氟化剂。",
    
    "ClO₂": "二氧化氯在1811年被发现，20世纪中期开始用于消毒。现代用于水处理和漂白剂。",
    
    "SF₆": "六氟化硫在1900年被发现，20世纪中期开始工业化生产。现代用作电气绝缘体和医疗造影剂。",
    
    "PCl₅": "五氯化磷在19世纪初被发现，19世纪中期开始工业化生产。现代用作氯化剂和催化剂。",
    
    "V₂O₅": "五氧化二钒在19世纪初被发现，20世纪初开始用于催化剂。现代主要用于硫酸生产和催化剂。",
    
    "Cr₂O₃": "三氧化二铬在19世纪初被发现，19世纪中期开始用于颜料。现代主要用于绿色颜料和催化剂。",
    
    "MoS₂": "二硫化钼在18世纪被发现，20世纪中期开始用作润滑剂。现代用于高级润滑剂和催化剂。",
    
    "WS₂": "二硫化钨在19世纪被发现，20世纪中期开始用作润滑剂。现代用于高温润滑剂和催化剂。",
    
    "CdS": "硫化镉在19世纪被发现，20世纪初开始用于颜料。现代用于太阳能电池和颜料。",
    
    "HgS": "硫化汞在古代被用作红色颜料朱砂，18世纪化学家确定了其组成。现代用于颜料和中药。",
    
    "SnO₂": "二氧化锡在古代用于陶瓷釉料，18世纪化学家确定了其组成。现代用于导电玻璃和催化剂。",
    
    "Bi₂O₃": "三氧化二铋在古代用于化妆品，18世纪化学家确定了其组成。现代用于医药和催化剂。",
    
    "Sb₂S₃": "三硫化二锑在古代用于化妆品，18世纪化学家确定了其组成。现代用于安全火柴和颜料。",
    
    "As₂S₃": "三硫化二砷在古代被用作颜料，18世纪化学家确定了其组成。现代用于颜料和半导体工业。",
    
    "LiOH": "氢氧化锂在19世纪初被发现，20世纪中期开始用于锂电池。现代主要用于锂电池和润滑脂。",
    
    "RbOH": "氢氧化铷在19世纪被发现，20世纪开始用于研究。现代主要用于催化剂和研究用途。",
    
    "CsOH": "氢氧化铯在19世纪被发现，20世纪开始用于研究。现代主要用于催化剂和特种玻璃。",
    
    "BeO": "氧化铍在19世纪初被发现，20世纪开始用于陶瓷工业。现代用于高温陶瓷和核工业。",
    
    "MgO": "氧化镁在古代用于医药，18世纪化学家确定了其组成。现代用于耐火材料和医药。",
    
    "SrO": "氧化锶在古代用于焰火，18世纪化学家确定了其组成。现代用于焰火和陶瓷工业。",
    
    "BaO": "氧化钡在古代用于焰火，18世纪化学家确定了其组成。现代用于焰火和陶瓷工业。",
    
    "K₂O": "氧化钾在古代用于玻璃制造，18世纪化学家确定了其组成。现代用于玻璃和肥料工业。",
    
    "Na₂O": "氧化钠在古代用于玻璃制造，18世纪化学家确定了其组成。现代用于玻璃和陶瓷工业。",
    
    "Li₂O": "氧化锂在19世纪初被发现，20世纪开始用于陶瓷工业。现代用于锂电池和特种玻璃。"
}

# 读取并更新文件
with open('/Users/admin/GitProjects/QuizGame/data.js', 'r', encoding='utf-8') as f:
    content = f.read()

# 处理每个数据项
lines = content.split('\n')
updated_lines = []
i = 0

while i < len(lines):
    line = lines[i]
    updated_lines.append(line)
    
    # 查找symbol行
    if '"symbol"' in line:
        symbol_match = re.search(r'"symbol":\s*"([^"]*)"', line)
        if symbol_match:
            symbol = symbol_match.group(1)
            
            # 检查是否已有history
            j = i + 1
            has_history = False
            item_end = i
            
            while j < len(lines) and '},' not in lines[j] and '}' not in lines[j]:
                if '"history"' in lines[j]:
                    has_history = True
                    break
                j += 1
            
            # 查找item结束
            while j < len(lines) and '},' not in lines[j] and '}' not in lines[j]:
                j += 1
            
            if not has_history and symbol in history_data:
                # 添加history字段
                indent = '        '  # 保持缩进
                updated_lines.append(f'{indent}"history": "{history_data[symbol]}",')
    
    i += 1

# 写入更新后的文件
with open('/Users/admin/GitProjects/QuizGame/data.js', 'w', encoding='utf-8') as f:
    f.write('\n'.join(updated_lines))

print("历史信息补充完成！")
